{% extends 'base.html' %}
{% load staticfiles %}

  {% block title %} 添加学校 {% endblock %} 
{% block head %}
<style type="text/css">
._citys0 { width: 100%; height: 34px; display: inline-block; border-bottom: 0.5px solid #56b4f8; padding: 0; margin: 0; }
._citys0 li { display: inline-block; line-height: 34px; font-size: 15px; color: #888; width: 120px; text-align: center;  }
._citys1 { width: 100%; display: inline-block; padding: 10px 0; }
._citys1 li { width: 83px; height: 35px; display: inline-block; background-color: #f5f5f5; color: #666; margin-left: 6px; margin-top: 3px; line-height: 35px; text-align: center; cursor: pointer; font-size: 13px; overflow: hidden; }
._citys1 li:hover { color: #fff; background-color: #56b4f8; }

.divFrame{ width: 260px;border:  1px solid #666666;font-size: 10pt}
.divContent{padding: 5px;display: none}
.divCurrColor{background: red}
.divTitle{background-color: #eee;padding: 5px}

#sheng{ color:blue;display: block}
#shi{ color:blue;display: block}
#qu{ color:blue;display: block}
#xiao{ color:blue;display: block}
#ban{ color:blue;display: block}
</style>
<script src="{% static 'js/jquery.min.js' %}"></script>
<script>
       $(document).ready(function(){
            //处理sheng省级选择和提交
              //获取ul里面选项li的省名称，赋予input；并隐藏sheng的div；https://blog.csdn.net/yy211zhu/article/details/51353511
              var Uarry=$("#sheng_content li");//获取所有的li元素
              $("#sheng_content li").click(function(){//点击事件
                   //测试直接获取值 var v=$(this).text(); alert(v);                       
                   var count=$(this).index();//获取li的下标
                   var Tresult=Uarry.eq(count).text();//获取该下标li的值
                   //ajax查询地区
                   $.getJSON("{% url 'add_school' %}",{'sheng':Tresult}, function(ret){ 
                        //返回值 ret 在这里是一个字典
                        
                       $('#shi_content').append('shashsahsh<br>');
                   });         
              }) 
       })
   </script>
{% endblock %}
{% block content %}

<div class="panel panel-primary">
    <div class="panel-heading">
        <h3 class="panel-title">添加学校</h3>
    </div>
    <div  class="panel-body" >
    {{ msg }}

 
                <div   id="sheng" >
                    <ul class="_citys0"><li >最近添加省份：</li></ul> 
                    <ul class="_citys1" id="sheng_content">
                {% if province.count %}
                    {% for sheng in province %}
                        <li > {{ sheng.province_name }}</li>
                    {% endfor %} 
                {% else %} 
                     当前还没有省份，请填写添加： 
                {% endif %}
                    </ul>
                </div> 


 
                <div  id="shi" >
                    <ul class="_citys0"><li >最近添加地市：</li></ul> 
                    <p> <span id='shi_content'>aiyayaya  </span></p>
                </div> 

 
                <div  id="qu" >
                {% if district.count %}
                    <ul class="_citys0"><li >最近添加区县：</li></ul> 
                    <ul class="_citys1" id="qu_content">
                    {% for qu in district %}
                        <li > {{ qu.district_name }}</li>
                    {% endfor %} 
                    </ul>
                {% else %} 
                    <ul class="_citys0"><li > 当前还没有区县，请填写添加： </li></ul> 
                {% endif %}
                    </ul>
                </div> 

 
                <div  id="xiao" >
                {% if school.count %}
                    <ul class="_citys0"><li >最近添加学校：</li></ul> 
                    <ul class="_citys1" id="shi_content">
                    {% for xiao in school %}
                        <li > {{ xiao.school_name }}</li>
                    {% endfor %} 
                    </ul>
                {% else %} 
                    <ul class="_citys0"><li > 当前还没有学校，请填写添加： </li></ul> 
                {% endif %}
                    </ul>
                </div> 

 
                <div  id="ban" >
                {% if class.count %}
                    <ul class="_citys0"><li >最近添加班级：</li></ul> 
                    <ul class="_citys1" id="shi_content">
                    {% for ban in class %}
                        <li > {{ ban.class_name }}</li>
                    {% endfor %} 
                    </ul>
                {% else %} 
                    <ul class="_citys0"><li > 当前还没有班级，请填写添加： </li></ul> 
                {% endif %}
                    </ul>
                </div> 


            <div  id="input_info"> 
                    <ul class="_citys0"><li >或者填写添加： </li></ul>
        <form  class="form-horizontal" action="" method="post">
            {% csrf_token %}

             <table class="">
                
            {% for field in form1 %}<tr><td>{{ field.label_tag }}</td> <td>{{ field }} </td><td>{{ field.errors }}</td></tr>{% endfor %} <!-- ID为id_province_name -->


                <tr><td> &nbsp &nbsp </td></tr> 
               
            {% for field in form2 %}  <tr><td>{{ field.label_tag }}</td> <td>{{ field }} </td><td>{{ field.errors }}</td></tr>
            {% endfor %}



                <tr><td> &nbsp &nbsp </td></tr>
                
            {% for field in form3 %} <tr><td>{{ field.label_tag }}</td> <td>{{ field }} </td><td>{{ field.errors }}</td></tr>
            {% endfor %} 


                <tr><td> &nbsp &nbsp </td></tr>
            {% for field in form4 %} 
                <tr><td>{{ field.label_tag }}</td> <td>{{ field }} </td><td>{{ field.errors }}</td></tr>
                <tr><td> &nbsp &nbsp </td></tr>
            {% endfor %} 



                <tr><td> &nbsp &nbsp </td></tr>                
            {% for field in form5 %} 
                <tr><td>{{ field.label_tag }}</td> <td>{{ field }} </td><td>{{ field.errors }}</td></tr>
            {% endfor %} 
                <tr><td> &nbsp &nbsp </td><td> <input type="submit" class="btn btn-primary" value="添加"></input> </td></tr>
            
            


 
                </div> 

            </table> 
        </form>
    </div> 

</div>


{% endblock %}
